# MCP Server for Financial Data Management (for Claude Integration)

This project demonstrates how to create and test an MCP (Model Context Protocol) server using the MCP Python SDK. The server exposes tools for managing and querying a dummy financial transaction database, making these functionalities available to AI agents like Claude.

The project consists of two main Python scripts:
1.  `populate.py`: Sets up an SQLite database and populates it with realistic fake financial transaction data.
2.  `mcp_server.py.py`: Implements an MCP server that exposes functions to query this financial data as tools.

## Features

*   **Database Population:** Generates a local SQLite database (`user_transactions.db`) with dummy data for people and their financial transactions.
*   **MCP Tool Exposure:** Exposes several database query functions as MCP tools, including:
    *   `get_transactions_by_month_and_name`: Fetch transactions for a person in a specific month.
    *   `get_transactions_by_day_and_name`: Fetch transactions for a person on a specific day.
    *   `get_total_transaction_amount_by_name`: Calculate total spending for a person.
    *   `list_all_people`: List all people in the database, including their most frequent transaction location.
    *   `get_transactions_by_location`: Fetch transactions that occurred at a specific location.
*   **Easy Integration:** Designed to be integrated with AI agents like Claude that can consume MCP tools.

## Technology Stack

*   **Python 3.8+**
*   **MCP Python SDK**: For creating the MCP server and defining tools.
*   **SQLite3**: For the relational database.
*   **Faker**: For generating realistic dummy data.

## Setup and Installation

1.  **Clone the repository:**
    ```bash
    git clone <your-repository-url>
    cd <repository-directory>
    ```

2.  **Create and activate a virtual environment (recommended):**
    ```bash
    python -m venv venv
    # On Windows
    venv\Scripts\activate
    # On macOS/Linux
    source venv/bin/activate
    ```

3.  **Install dependencies:**
    The required packages are listed in `requirements.txt`.
    ```bash
    pip install -r requirements.txt
    ```

4.  **Populate the database:**
    Run the `populate.py` script to create the `user_transactions.db` file and fill it with dummy data.
    ```bash
    python populate.py
    ```
    This will create the database in the same directory as the script.

## Running the MCP Server

1.  **Verify Database Path (Important!):**
    Open `mcp_server.py.py`. The `DB_NAME` variable is currently set to an absolute path:
    ```python
    DB_NAME = r'D:\learning\mcp-server\user_transactions.db'
    ```
    **You will likely need to change this.** For simplicity, if `user_transactions.db` is in the same directory as `mcp_server.py.py`, you can change it to:
    ```python
    DB_NAME = 'user_transactions.db'
    ```
    Ensure this path correctly points to the `user_transactions.db` file created by `populate.py`.

2.  **Start the MCP Server:**

    Follow the instructions based on the [MCP Python SDK Github](https://github.com/modelcontextprotocol/python-sdk). 

## Project Structure

├── populate.py # Script to create and populate the SQLite database
├── mcp_server.py.py # The MCP server exposing database query functions as tools
├── requirements.txt # Python dependencies
├── user_transactions.db # SQLite database file (generated by populate.py)
└── README.md # This file


## Contributing

Contributions are welcome! If you'd like to contribute, please follow these steps:

1.  **Fork the repository.**
2.  **Create a new branch** for your feature or bug fix:
    ```bash
    git checkout -b feature/your-feature-name
    ```
3.  **Make your changes.**
4.  **Test your changes thoroughly.**
5.  **Commit your changes** with a clear and descriptive commit message:
    ```bash
    git commit -m "Add feature: describe your feature"
    ```
6.  **Push to your forked repository:**
    ```bash
    git push origin feature/your-feature-name
    ```
7.  **Open a Pull Request** to the main repository, detailing the changes you've made.

Please ensure your code adheres to good coding practices and includes comments where necessary.

## License

For now, this project is shared without an explicit license.